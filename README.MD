# Solidstack

[![CI - SoldStack Monorepo](https://github.com/mazemzemi/soldstack/actions/workflows/ci.yml/badge.svg)](https://github.com/mazemzemi/soldstack/actions/workflows/ci.yml)

![Java](https://img.shields.io/badge/Java-24-orange)
![Spring Boot](https://img.shields.io/badge/SpringBoot-3.5.6-brightgreen)
![Gradle](https://img.shields.io/badge/Gradle-9.1.0-blue)
![Angular 20](https://img.shields.io/badge/Angular-20-red?logo=angular)
![Docker](https://img.shields.io/badge/Docker-ready-2496ED)
![Redis](https://img.shields.io/badge/Redis-ready-DC382D)
![Docker Compose](https://img.shields.io/badge/DockerCompose-ready-2496ED)

---

## ğŸ“Œ Description

**Solidstack** est un projet basÃ© sur une **architecture Clean** et **microservices**, conÃ§u pour fournir une plateforme modulable, maintenable et extensible.  
Le projet respecte les principes **SOLID** et les bonnes pratiques de **craftsmanship**.

### FonctionnalitÃ©s principales
- âœ… Architecture multi-modules claire (`auth-service`, `user-service`, `gateway-service`, `discovery-service`, `common`)
- âœ… SÃ©curitÃ© basÃ©e sur **JWT** (Token-Based Authentication)
- âœ… IntÃ©gration de **Redis** pour la gestion de sessions et du cache
- âœ… Conteneurisation avec **Docker** et orchestration avec **Docker Compose**
- âœ… Gestion des dÃ©pendances avec **Gradle**

---

## ğŸ—ï¸ Architecture

Le projet suit les principes de **Clean Architecture**, chaque service Ã©tant indÃ©pendant et exposant des API REST.

### ğŸ“Š Diagramme des microservices

```mermaid
flowchart LR
    CLIENT[Client Application] --> GW[API Gateway<br>routage, sÃ©curitÃ©]

    GW --> DS[Discovery Service<br>Eureka / Consul]

    DS --> AS[Auth Service<br>authentification, JWT]
    DS --> US[User Service<br>gestion des utilisateurs, nÃ©cessite auth]

    AS --> COMMON[Common Module<br>sÃ©curitÃ©, utils, exceptions, DTOs]
    US --> COMMON

    AS --> REDIS[Redis Server<br>sessions, tokens]
```

---

## ğŸ“‚ Arborescence du projet

```text
solidstack/
â”‚
â”œâ”€â”€ âš™ï¸ backend/
â”‚   â”œâ”€â”€ ğŸ“¦ common/            # Code partagÃ© (ğŸ”’ sÃ©curitÃ©, ğŸ› ï¸ utils, âš ï¸ exceptions, ğŸ“‘ DTOs)
â”‚   â”œâ”€â”€ ğŸ”‘ auth-service/      # Authentification et gÃ©nÃ©ration de tokens
â”‚   â”œâ”€â”€ ğŸ‘¤ user-service/      # Gestion des utilisateurs
â”‚   â”œâ”€â”€ ğŸŒ gateway-service/   # API Gateway (routage, sÃ©curitÃ©)
â”‚   â””â”€â”€ ğŸ§­ discovery-service/ # Service de dÃ©couverte (Eureka / Consul)
â”‚
â””â”€â”€ ğŸ¨ frontend/             # Application front (UI/UX, Angular)
```

---

## âš™ï¸ PrÃ©requis

- [Java 24](https://openjdk.org/projects/jdk/24/)
- [Spring Boot 3.5.6](https://spring.io/projects/spring-boot)
- [Gradle 9.1.0](https://gradle.org/)
- [Docker](https://www.docker.com/)
- [Docker Compose](https://docs.docker.com/compose/)
- [Redis](https://redis.io/)

---

## ğŸš€ DÃ©marrage rapide

### 1. Cloner le projet
```bash
git clone https://github.com/mazemzemi/soldstack.git
cd soldstack
```

### 2. Construire les services
```bash
./gradlew clean build
```

### 3. Lancer avec Docker Compose
```bash
docker-compose up --build
```

---

## ğŸ§ª Tests

Les tests unitaires utilisent **JUnit 5** et **Mockito**.

### Lancer les tests
```bash
./gradlew test
```

---

## ğŸ”‘ Usage API

Le projet expose des endpoints via le **Gateway** :

| Service      | Endpoint                | Description                                    |
| ------------ | ---------------------- | ---------------------------------------------- |
| Auth Service | `POST /auth/register`   | Inscription dâ€™un utilisateur                   |
| Auth Service | `POST /auth/login`      | Connexion et gÃ©nÃ©ration de JWT                 |
| Auth Service | `POST /auth/logout`     | DÃ©connexion (auth requis)                      |
| Auth Service | `POST /auth/me`         | Utilisateur actuellement authentifiÃ© (auth requis) |
| User Service | `GET /users`            | Liste des utilisateurs (auth requis)          |
| User Service | `POST /users`           | Ajouter un utilisateur (auth requis)          |
| User Service | `GET /users/{id}`       | DÃ©tails dâ€™un utilisateur (auth requis)        |
| User Service | `DELETE /users/{id}`    | Supprimer un utilisateur (auth requis)        |

> Tous les endpoints sont sÃ©curisÃ©s par **JWT**, sauf lâ€™inscription et la connexion.

---

## ğŸ–¥ï¸ Architecture globale : Frontend â†” Backend â†” Microservices

```mermaid
flowchart TD
    subgraph Frontend
        CLIENT[Client Application<br>UI/UX, Angular]
    end

    subgraph Backend
        GW[ API Gateway<br>Routage & SÃ©curitÃ©]
        DS[ Discovery Service<br>Eureka / Consul]
        AS[ Auth Service<br>JWT & Auth]
        US[ User Service<br>Gestion utilisateurs]
        COMMON[ Common Module<br>DTOs, Exceptions, Utils, SÃ©curitÃ©]
        REDIS[Redis Server<br>Sessions & Tokens]
    end

    CLIENT --> GW
    GW --> DS
    DS --> AS
    DS --> US
    AS --> COMMON
    US --> COMMON
    AS --> REDIS
```

### ğŸ”¹ Explications rapides

- **Client Application** : Interface utilisateur, communique uniquement avec le **Gateway**.
- **API Gateway** : Point dâ€™entrÃ©e unique, routage vers les microservices, filtre les requÃªtes via JWT.
- **Discovery Service** : Permet au Gateway et aux services de se dÃ©couvrir dynamiquement.
- **Auth Service** : Gestion des inscriptions, connexions, tokens JWT.
- **User Service** : Gestion des utilisateurs, endpoints sÃ©curisÃ©s.
- **Common Module** : Contient les utilitaires, DTOs et rÃ¨gles de sÃ©curitÃ© partagÃ©s.
- **Redis** : Stockage des sessions et tokens pour Auth Service.

---

## ğŸ“¦ CI/CD

La pipeline GitHub Actions est disponible dans `.github/workflows/ci.yml` :
- âœ… Build & tests unitaires
- âœ… VÃ©rification de la qualitÃ© du code
- âœ… Publication des images Docker

---

## ğŸ› ï¸ Technologies principales

- **Langage** : Java 24
- **Framework** : Spring Boot 3.5.6
- **Authentification** : JWT + Spring Security
- **Base de donnÃ©es** : Base en mÃ©moire (H2 / tests)
- **Cache** : Redis
- **Orchestration** : Docker & Docker Compose

---

#### ğŸ‘¨â€ğŸ’» Auteur

DÃ©veloppÃ© par [Mohamed Ali Zemzemi](https://www.linkedin.com/in/mohamed-ali-zemzemi-98a9b01b/).

