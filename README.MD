# Solidstack

[![CI - SoldStack Monorepo](https://github.com/mazemzemi/soldstack/actions/workflows/ci.yml/badge.svg)](https://github.com/mazemzemi/soldstack/actions/workflows/ci.yml)

![Java](https://img.shields.io/badge/Java-24-orange)
![Spring Boot](https://img.shields.io/badge/SpringBoot-3.5.6-brightgreen)
![Gradle](https://img.shields.io/badge/Gradle-9.1.0-blue)
![Angular 20](https://img.shields.io/badge/Angular-20-red?logo=angular)
![Docker](https://img.shields.io/badge/Docker-ready-2496ED)
![Redis](https://img.shields.io/badge/Redis-ready-DC382D)
![Docker Compose](https://img.shields.io/badge/DockerCompose-ready-2496ED)

---

## üìå Description

**Solidstack** est un projet bas√© sur une **architecture Clean** et **microservices**, con√ßu pour fournir une plateforme modulable, maintenable et extensible.  
Le projet respecte les principes **SOLID** et les bonnes pratiques de **craftsmanship**.

### Fonctionnalit√©s principales
- ‚úÖ Architecture multi-modules claire (`auth-service`, `user-service`, `gateway-service`, `discovery-service`, `common`)
- ‚úÖ S√©curit√© bas√©e sur **JWT** (Token-Based Authentication)
- ‚úÖ Int√©gration de **Redis** pour la gestion de sessions et du cache
- ‚úÖ Conteneurisation avec **Docker** et orchestration avec **Docker Compose**
- ‚úÖ Gestion des d√©pendances avec **Gradle**

---

## üèóÔ∏è Architecture

Le projet suit les principes de **Clean Architecture**, chaque service √©tant ind√©pendant et exposant des API REST.

### üìä Diagramme des microservices

```mermaid
flowchart LR
    CLIENT[Client Application] --> GW[API Gateway<br>routage, s√©curit√©]

    GW --> DS[Discovery Service<br>Eureka / Consul]

    DS --> AS[Auth Service<br>authentification, JWT]
    DS --> US[User Service<br>gestion des utilisateurs, n√©cessite auth]

    AS --> COMMON[Common Module<br>s√©curit√©, utils, exceptions, DTOs]
    US --> COMMON

    AS --> REDIS[Redis Server<br>sessions, tokens]
```

---

## üìÇ Arborescence du projet

```text
solidstack/
‚îÇ
‚îú‚îÄ‚îÄ ‚öôÔ∏è backend/
‚îÇ   ‚îú‚îÄ‚îÄ üì¶ common/            # Code partag√© (üîí s√©curit√©, üõ†Ô∏è utils, ‚ö†Ô∏è exceptions, üìë DTOs)
‚îÇ   ‚îú‚îÄ‚îÄ üîë auth-service/      # Authentification et g√©n√©ration de tokens
‚îÇ   ‚îú‚îÄ‚îÄ üë§ user-service/      # Gestion des utilisateurs
‚îÇ   ‚îú‚îÄ‚îÄ üåê gateway-service/   # API Gateway (routage, s√©curit√©)
‚îÇ   ‚îî‚îÄ‚îÄ üß≠ discovery-service/ # Service de d√©couverte (Eureka / Consul)
‚îÇ
‚îî‚îÄ‚îÄ üé® frontend/             # Application front (UI/UX, Angular)
```

---

## ‚öôÔ∏è Pr√©requis

- [Java 24](https://openjdk.org/projects/jdk/24/)
- [Spring Boot 3.5.6](https://spring.io/projects/spring-boot)
- [Angular 20](https://angular.io/)
- [Gradle 9.1.0](https://gradle.org/)
- [Docker](https://www.docker.com/)
- [Docker Compose](https://docs.docker.com/compose/)
- [Redis](https://redis.io/)

---

## üöÄ D√©marrage rapide

### 1. Cloner le projet
```bash
git clone https://github.com/mazemzemi/soldstack.git
cd soldstack
```

### 2. Construire les services
```bash
./gradlew clean build
```

### 3. Lancer avec Docker Compose
```bash
docker-compose up --build
```

---

## üß™ Tests

Les tests unitaires utilisent **JUnit 5** et **Mockito**.

### Lancer les tests
```bash
./gradlew test
```

---

## üîë Usage API

Le projet expose des endpoints via le **Gateway** :

| Service      | Endpoint                | Description                                    |
| ------------ | ---------------------- | ---------------------------------------------- |
| Auth Service | `POST /auth/register`   | Inscription d‚Äôun utilisateur                   |
| Auth Service | `POST /auth/login`      | Connexion et g√©n√©ration de JWT                 |
| Auth Service | `POST /auth/logout`     | D√©connexion (auth requis)                      |
| Auth Service | `POST /auth/me`         | Utilisateur actuellement authentifi√© (auth requis) |
| User Service | `GET /users`            | Liste des utilisateurs (auth requis)          |
| User Service | `POST /users`           | Ajouter un utilisateur (auth requis)          |
| User Service | `GET /users/{id}`       | D√©tails d‚Äôun utilisateur (auth requis)        |
| User Service | `DELETE /users/{id}`    | Supprimer un utilisateur (auth requis)        |

> Tous les endpoints sont s√©curis√©s par **JWT**, sauf l‚Äôinscription et la connexion.

---

## üñ•Ô∏è Architecture globale : Frontend ‚Üî Backend ‚Üî Microservices

```mermaid
flowchart TD
    subgraph Frontend
        CLIENT[Client Application<br>UI/UX, Angular]
    end

    subgraph Backend
        GW[ API Gateway<br>Routage & S√©curit√©]
        DS[ Discovery Service<br>Eureka / Consul]
        AS[ Auth Service<br>JWT & Auth]
        US[ User Service<br>Gestion utilisateurs]
        COMMON[ Common Module<br>DTOs, Exceptions, Utils, S√©curit√©]
        REDIS[Redis Server<br>Sessions & Tokens]
    end

    CLIENT --> GW
    GW --> DS
    DS --> AS
    DS --> US
    AS --> COMMON
    US --> COMMON
    AS --> REDIS
```

### üîπ Explications rapides

- **Client Application** : Interface utilisateur, communique uniquement avec le **Gateway**.
- **API Gateway** : Point d‚Äôentr√©e unique, routage vers les microservices, filtre les requ√™tes via JWT.
- **Discovery Service** : Permet au Gateway et aux services de se d√©couvrir dynamiquement.
- **Auth Service** : Gestion des inscriptions, connexions, tokens JWT.
- **User Service** : Gestion des utilisateurs, endpoints s√©curis√©s.
- **Common Module** : Contient les utilitaires, DTOs et r√®gles de s√©curit√© partag√©s.
- **Redis** : Stockage des sessions et tokens pour Auth Service.

---

## üì¶ CI/CD

La pipeline GitHub Actions est disponible dans `.github/workflows/ci.yml` :
- ‚úÖ Build & tests unitaires
- ‚úÖ V√©rification de la qualit√© du code
- ‚úÖ Publication des images Docker

---

## üõ†Ô∏è Technologies principales

- **Langage** : Java 24
- **Framework back-end** : Spring Boot 3.5.6
- **Framework front-end** : Angular 20
- **Authentification** : JWT + Spring Security
- **Base de donn√©es** : Base en m√©moire (H2 / tests)
- **Cache** : Redis
- **Orchestration** : Docker & Docker Compose

---

#### üë®‚Äçüíª Auteur

D√©velopp√© par [Mohamed Ali Zemzemi](https://www.linkedin.com/in/mohamed-ali-zemzemi-98a9b01b/).

